<app-customer-header [path]="true"></app-customer-header>
<div class="d-flex mt-2">
  <div class="w-25 mt-2 ms-2 border border-dark rounded-5 p-5">
    <div class="text-center">
      <img
        [src]="profile?.picture"
        height="150rem"
        class="w-auto rounded-circle"
      />
    </div>
    <hr />
    <div class="mx-auto w-75 fw-bold text-center">
      <div class="display2 mb-3">Contact Details</div>
      Name:
      <h3>{{ profile?.name }}</h3>
      Email:
      <h4>{{ profile?.email }}</h4>
      <div class="d-inline">
        <div
          class="d-inline-block"
          style="cursor: pointer"
          (click)="editProfile()"
        >
          <mat-icon
            aria-hidden="false"
            fontIcon="edit"
            aria-label="edit"
            class="text-primary edit"
          ></mat-icon
          ><span class="d-block">Edit Profile</span>
        </div>
      </div>
      <div
        class="ms-4 d-inline-block"
        style="cursor: pointer"
        (click)="changePassword()"
      >
        <mat-icon
          aria-hidden="false"
          fontIcon="password"
          aria-label="delete"
          class="text-danger edit"
        ></mat-icon
        ><span class="d-block">Change Password</span>
      </div>
      <div
        class="mt-3 d-inline-block"
        style="cursor: pointer"
        (click)="deleteProfile()"
      >
        <mat-icon
          aria-hidden="false"
          fontIcon="delete"
          aria-label="delete"
          class="text-danger edit"
        ></mat-icon
        ><span class="d-block">Delete Profile</span>
      </div>
    </div>
  </div>
  <div
    class="w-75 border-start border-end border-dark rounded-5 mt-2 me-3 pt-5"
  >
    <h3 class="fw-bold text-center">Address</h3>

    <div class="pb-5 d-flex justify-content-center row row-cols-auto h-auto">
      <div
        class="card d-block p-3"
        style="width: 15rem"
        *ngFor="let address of addresses; let i = index"
      >
        <div class="card-title text-center">Address {{ i + 1 }}</div>
        <div class="card-text">
          <div>Street : {{ address.street }}</div>
          <div>
            Address Line 2 :
            {{ address.addressLine2 }}
          </div>
          <div>City : {{ address.city }}</div>
          <div>State : {{ address.state }}</div>
          <div>Pin : {{ address.pin }}</div>
        </div>
        <div class="mt-3">
          <button class="d-inline btn btn-link" (click)="editAddress(address)">
            Edit
          </button>
          <button
            class="btn text-danger fs-7 d-inline"
            (click)="deleteAddress(address._id)"
          >
            Delete
          </button>
        </div>
      </div>
      <div
        (click)="addAddress()"
        role="button"
        class="card d-flex justify-content-center align-items-center m-3"
        style="width: 15rem; height: 15rem; background-color: crimson"
      >
        <div
          class="p-3 d-flex justify-content-center align-items-center addIcon"
          style="width: 50px; height: 50px"
        >
          +
        </div>
      </div>
    </div>
  </div>
</div>
