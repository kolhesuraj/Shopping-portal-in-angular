<app-customer-header [path]="false"></app-customer-header>

<div class="mt-5">
  <div class="container-fluid d-flex justify-content-between">
    <button class="btn btn-outline-primary" [disabled]="cart.length < 1" (click)="checkOut()">
      Check Out
    </button>
      <button class="btn btn-outline-danger " [disabled]="cart.length < 1" (click)="clearCart()">
      Clear Cart
    </button>
  </div>
  <div
    *ngIf="cart.length >= 1; else elseBlock"
    class="d-flex row justify-content-around"
  >
    <div
      class="card mb-5 ms-4 me-4 col-1"
      style="width: 20rem; height: 28rem"
      *ngFor="let item of cart; let i = index"
    >
      <div
        *ngIf="item.images[0]; else elseBlock"
        style="height: 18rem"
        class="d-flex justify-content-center align-items-center"
      >
        <img
          [src]="item.images[0].url"
          [alt]="item.images[0].public_id"
          height="18rem"
        />
      </div>
      <ng-template #elseBlock>
        <div
          style="height: 18rem"
          class="d-flex justify-content-center align-items-center"
        >
          No Images for Preview
        </div>
      </ng-template>
      
      <div class="card-body mt-1 text-center">
        <div
        routerLink="../../products/product/{{ item.productId }}"
        style="cursor: pointer"
        >
        <h3 class="card-title d-block" style="font-weight: 500">
          {{ item.name }}
        </h3>
        
        <h3 class="card-text">Price: &#8377; {{ item.price }}</h3>
        <h3 class="">Total: &#8377; {{ item.subTotal }}</h3>
      </div>
        <div class="mb-2">
          <button
            class="btn btn-sm me-2 rounded-5"
            (click)="minusCount(item)"
            [disabled]="item.qty < 2"
          >
            -
          </button>
          {{ item?.qty }}
          <button class="btn btn-sm ms-2 rounded-5" (click)="addCount(item)">+</button>
        </div>
        <button class="btn btn-danger" (click)="deleteProduct(item)">
          Remove
        </button>
      </div>
    </div>
  </div>
  <ng-template #elseBlock
    ><h2 class="text-center">Nothing to Show !</h2></ng-template
  >
</div>
