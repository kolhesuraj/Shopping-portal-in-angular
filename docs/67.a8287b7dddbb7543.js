"use strict";(self.webpackChunkProject=self.webpackChunkProject||[]).push([[67],{5067:(G,g,o)=>{o.r(g),o.d(g,{AuthenticationModule:()=>E});var u=o(6895),a=o(3127),e=o(4650);let p=(()=>{class n{constructor(i){this.route=i}canActivate(){return!localStorage.getItem("token")||(this.route.navigate(["shop/products"]),!1)}}return n.\u0275fac=function(i){return new(i||n)(e.LFG(a.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var l=o(4006),c=o(3990),h=o(4700),f=o(1237),d=o(4859);function _(n,r){1&n&&(e.TgZ(0,"small",23),e._uU(1,"Please enter id and password"),e.qZA())}function Z(n,r){1&n&&(e.TgZ(0,"small",23),e._uU(1,"Please enter valid id and password"),e.qZA())}function v(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1," Loading ...."),e.qZA())}function C(n,r){1&n&&e._uU(0,"Login")}function b(n){const r=n.get("Password"),i=n.get("ConfirmPassword");return r?.pristine||i?.pristine?null:r&&i&&r.value!=i.value?{misMatch:!0}:null}function w(n,r){1&n&&(e.TgZ(0,"small",32),e._uU(1," Name required"),e.qZA())}function T(n,r){1&n&&(e.TgZ(0,"small",32),e._uU(1,"Email required"),e.qZA())}function q(n,r){1&n&&(e.TgZ(0,"small",32),e._uU(1,"user already exist"),e.qZA())}function P(n,r){1&n&&(e.TgZ(0,"small",32),e._uU(1,"Password required"),e.qZA())}function k(n,r){1&n&&(e.TgZ(0,"small",32),e._uU(1,"Password must be 6 character"),e.qZA())}function y(n,r){1&n&&(e.TgZ(0,"small",32),e._uU(1,"Password doesn't match"),e.qZA())}function U(n,r){1&n&&(e.TgZ(0,"small",32),e._uU(1,"Street required"),e.qZA())}function N(n,r){1&n&&(e.TgZ(0,"small",32),e._uU(1,"Address Line required"),e.qZA())}function I(n,r){1&n&&(e.TgZ(0,"small",32),e._uU(1,"City required"),e.qZA())}function L(n,r){1&n&&(e.TgZ(0,"small",32),e._uU(1,"State required"),e.qZA())}function S(n,r){1&n&&(e.TgZ(0,"small",32),e._uU(1,"Pin required"),e.qZA())}function Y(n,r){1&n&&(e.TgZ(0,"small",32),e._uU(1,"Please fill all details"),e.qZA())}function J(n,r){if(1&n&&(e.TgZ(0,"small",32),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Oqu(i.errorFromserver)}}function M(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1," Loading ...."),e.qZA())}function R(n,r){1&n&&e._uU(0,"Register")}const F=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(i,t,s,m,j){this.fb=i,this.route=t,this.httpservice=s,this.recaptchaV3Service=m,this.authService=j,this.hide=!0,this.counter=!1,this.updating=!1,this.massage=!1,this.loginFaildMssage=!1,this.tocken=0}refreshCaptcha(){this.recaptchaV3Service.execute("importantAction").subscribe(i=>{this.captcha=i})}ngOnInit(){this.loginForm=this.fb.group({email:["",[l.kI.required,l.kI.email]],password:["",[l.kI.required]],captcha:["",[l.kI.required]]}),this.refreshCaptcha()}get emailControl(){return this.loginForm.get("email")}get passwordFormControl(){return this.loginForm.get("password")}submit(){this.loginForm.patchValue({captcha:this.captcha}),this.loginForm.valid?(this.updating=!0,this.httpservice.post("shop/auth/login",this.loginForm.value).subscribe({next:i=>{console.log(i),localStorage.setItem("token",i.token),this.tocken=1,setTimeout(()=>{this.route.navigate(["shop/products"]),this.tocken=0},1500)}})):(this.massage=!0,this.loginFaildMssage=!1)}signOut(){this.authService.signOut()}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(l.qu),e.Y36(a.F0),e.Y36(c.w),e.Y36(h.YC),e.Y36(f.xE))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:8,consts:[[1,"login","text-white"],[1,"header","container"],[1,"text-center","pt-5"],[1,"p-3","mt-1","float-right","bg-success","text-white","ms-5",2,"width","165px"],[1,"form","m-auto","rounded-5","p-2","border"],["src","../../../../assets/login.png","alt"," login.png",1,"rounded-circle","w-25"],[1,"mt-4",3,"formGroup"],[1,"pb-5","m-auto"],[1,"block","ms-5"],[1,"d-inline","ms-1","w-25"],["type","email","formControlName","email","name","email",1,"ms-5","form-control","d-inline"],[1,"ms-5","mt-4","mb-3"],[1,"d-inline","w-25"],["type","password","formControlName","password","name","password",1,"ms-4","form-control","d-inline"],[1,"ms-5","mb-2"],["class","text-danger ms-5",4,"ngIf"],["mat-raised-button","","color","primary",1,"submit",3,"disabled","click"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"mx-auto","w-75"],[1,"ms-5","mt-3"],[1,"ms-2"],["mat-flat-button","","color","warn","routerLink","/shop/auth/register"],[1,"text-danger","ms-5"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Login"),e.qZA(),e.TgZ(4,"div",3),e._uU(5," login successfull "),e.qZA()(),e.TgZ(6,"div",4),e._UZ(7,"img",5),e.TgZ(8,"form",6)(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Email"),e.qZA(),e._UZ(13,"input",10),e.qZA(),e.TgZ(14,"div",11)(15,"label",12),e._uU(16,"Password"),e.qZA(),e._UZ(17,"input",13),e.qZA(),e.TgZ(18,"div",14),e.YNc(19,_,2,0,"small",15),e.YNc(20,Z,2,0,"small",15),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return t.submit()}),e.YNc(22,v,2,0,"span",17),e.YNc(23,C,1,0,"ng-template",null,18,e.W1O),e.qZA(),e._UZ(25,"hr"),e.TgZ(26,"div",19)(27,"p",20),e._uU(28," Doesn't have an account "),e.TgZ(29,"span",21)(30,"button",22),e._uU(31," registred here! "),e.qZA()()()()()()()()),2&i){const s=e.MAs(24);e.xp6(4),e.ekj("d-none",0==t.tocken),e.xp6(4),e.Q6J("formGroup",t.loginForm),e.xp6(11),e.Q6J("ngIf",t.massage),e.xp6(1),e.Q6J("ngIf",t.loginFaildMssage),e.xp6(1),e.Q6J("disabled",t.updating),e.xp6(1),e.Q6J("ngIf",t.updating)("ngIfElse",s)}},dependencies:[u.O5,a.rH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,d.lW],styles:["header[_ngcontent-%COMP%]{background-color:#2e2d2d;color:azure}.login[_ngcontent-%COMP%]{background-image:url(shopLoginbBg.9508dbc8d5943c44.png);background-size:cover;height:804px}.form[_ngcontent-%COMP%]{width:500px;background-color:#ffffff1a}img[_ngcontent-%COMP%]{margin-left:180px;margin-top:20px}input[_ngcontent-%COMP%], .submit[_ngcontent-%COMP%]{width:300px}.submit[_ngcontent-%COMP%]{margin-left:130px;margin-top:10px}.fa-facebook[_ngcontent-%COMP%]{background:#3b5998;color:#fff}.fa[_ngcontent-%COMP%]{padding:5px;font-size:20px;width:30px;text-align:center;text-decoration:none}"]}),n})(),canActivate:[p]},{path:"register",component:(()=>{class n{constructor(i,t,s,m){this.fb=i,this.route=t,this.httpService=s,this.recaptchaV3Service=m,this.data=[],this.tocken=0,this.emailExist=!1,this.updating=!1,this.submited=!1}refreshCaptcha(){this.recaptchaV3Service.execute("importantAction").subscribe(i=>{this.captcha=i})}ngOnInit(){this.register=this.fb.group({name:["",[l.kI.required]],email:["",[l.kI.required,l.kI.email]],password:["",[l.kI.required,l.kI.minLength(8)]],ConfirmPassword:["",[l.kI.required]],captcha:["",l.kI.required],addresses:this.fb.group({street:["",[l.kI.required]],addressLine2:[""],city:["",[l.kI.required]],state:["",[l.kI.required]],pin:["",[l.kI.required,l.kI.minLength(6),l.kI.maxLength(6)]]})},{validator:b}),this.refreshCaptcha()}get Name(){return this.register.get("name")}get CompanyName(){return this.register.get("company")}get Email(){return this.register.get("email")}get Password(){return this.register.get("password")}get ConfirmPassword(){return this.register.get("ConfirmPassword")}get Address(){return this.register.get("addresses")}get Street(){return this.Address.get("street")}get AddressLine2(){return this.Address.get("addressLine2")}get City(){return this.Address.get("city")}get State(){return this.Address.get("state")}get Pin(){return this.Address.get("pin")}registerLogin(){if(this.register.patchValue({captcha:this.captcha}),this.register.valid){this.submited=!1,this.updating=!0;const i=this.register.value;delete i.ConfirmPassword,this.httpService.post("shop/auth/register",i).subscribe({next:t=>{this.tocken=1,setTimeout(()=>{this.tocken=0,this.route.navigate(["/shop/auth/login"])},1500)}})}else this.submited=!0}reset(){this.refreshCaptcha(),this.errorFromserver="",this.submited=!1}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(l.qu),e.Y36(a.F0),e.Y36(c.w),e.Y36(h.YC))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-registration"]],decls:79,vars:37,consts:[[1,"mainDiv"],[1,"container"],[1,"container","pt-3","secondDiv","rounded-5"],[1,"p-3","float-right","bg-success","text-white",2,"width","165px"],[1,"text-center","text-white"],[1,"w-100","p-5",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],[1,""],["type","text","formControlName","name","name","Name",1,"form-control"],["class","ms-5 ps-5 text-danger",4,"ngIf"],["type","email","formControlName","email","name","email",1,"form-control"],[1,"row","mt-3"],["type","password","formControlName","password","name","password",1,"form-control"],["type","password","formControlName","ConfirmPassword","name","Cpassword",1,"form-control"],["formGroupName","addresses"],[1,"text-white","mt-3","text-center"],["type","text","formControlName","street","name","street",1,"form-control"],["type","text","formControlName","addressLine2","name","addressLine2",1,"form-control"],["type","text","formControlName","city","name","city",1,"form-control"],[1,"row","col"],[1,"col",2,"padding","0"],["type","text","formControlName","state","name","state",1,"form-control","w-75"],["type","text","formControlName","pin","name","pin",1,"form-control","w-75"],[1,"mt-3","row","text-center"],[1,"col","w-25"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[4,"ngIf","ngIfElse"],["elseBlock",""],["mat-flat-button","","color","accent","type","reset",1,"ms-5",3,"click"],[1,"text-white","col","w-25"],["mat-raised-button","","color","primary","routerLink","/shop/auth/login",1,"ms-2"],[1,"ms-5","ps-5","text-danger"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4," Register successfully "),e.qZA(),e.TgZ(5,"h1",4),e._uU(6,"Registration"),e.qZA(),e.TgZ(7,"form",5),e.NdJ("ngSubmit",function(){return t.registerLogin()}),e.TgZ(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11,"Full Name"),e.qZA(),e._UZ(12,"input",9),e.YNc(13,w,2,0,"small",10),e.qZA(),e.TgZ(14,"div",7)(15,"label",8),e._uU(16,"email"),e.qZA(),e._UZ(17,"input",11),e.YNc(18,T,2,0,"small",10),e.YNc(19,q,2,0,"small",10),e.qZA()(),e.TgZ(20,"div",12)(21,"div",7)(22,"label",8),e._uU(23,"Password"),e.qZA(),e._UZ(24,"input",13),e.YNc(25,P,2,0,"small",10),e.YNc(26,k,2,0,"small",10),e.qZA(),e.TgZ(27,"div",7)(28,"label",8),e._uU(29,"Confirm Password"),e.qZA(),e._UZ(30,"input",14),e.YNc(31,y,2,0,"small",10),e.qZA()(),e._UZ(32,"hr"),e.TgZ(33,"div",15)(34,"h3",16),e._uU(35,"address"),e.qZA(),e.TgZ(36,"div",6)(37,"div",7)(38,"label",8),e._uU(39,"street"),e.qZA(),e._UZ(40,"input",17),e.YNc(41,U,2,0,"small",10),e.qZA(),e.TgZ(42,"div",7)(43,"label",8),e._uU(44,"Address line 2"),e.qZA(),e._UZ(45,"input",18),e.YNc(46,N,2,0,"small",10),e.qZA()(),e.TgZ(47,"div",12)(48,"div",7)(49,"label",8),e._uU(50,"City"),e.qZA(),e._UZ(51,"input",19),e.YNc(52,I,2,0,"small",10),e.qZA(),e.TgZ(53,"div",20)(54,"div",21)(55,"label",8),e._uU(56,"State"),e.qZA(),e._UZ(57,"input",22),e.YNc(58,L,2,0,"small",10),e.qZA(),e.TgZ(59,"div",7)(60,"label",8),e._uU(61,"Pin"),e.qZA(),e._UZ(62,"input",23),e.YNc(63,S,2,0,"small",10),e.qZA()()()(),e.YNc(64,Y,2,0,"small",10),e.YNc(65,J,2,1,"small",10),e.TgZ(66,"div",24)(67,"div",25)(68,"button",26),e.YNc(69,M,2,0,"span",27),e.YNc(70,R,1,0,"ng-template",null,28,e.W1O),e.qZA(),e.TgZ(72,"button",29),e.NdJ("click",function(){return t.reset()}),e._uU(73," cancle "),e.qZA()(),e.TgZ(74,"div",30),e._uU(75," already have an account!"),e.TgZ(76,"span")(77,"button",31),e._uU(78," Sign in "),e.qZA()()()()()()()()),2&i){const s=e.MAs(71);e.xp6(3),e.ekj("d-none",0==t.tocken),e.xp6(4),e.Q6J("formGroup",t.register),e.xp6(5),e.ekj("is-invalid",(null==t.Name?null:t.Name.invalid)&&(null==t.Name?null:t.Name.touched)||t.submited&&(null==t.Name?null:t.Name.untouched)),e.xp6(1),e.Q6J("ngIf",(null==t.Name?null:t.Name.invalid)&&(null==t.Name?null:t.Name.touched)),e.xp6(4),e.ekj("is-invalid",(null==t.Email?null:t.Email.invalid)&&(null==t.Email?null:t.Email.touched)||t.submited&&(null==t.Email?null:t.Email.untouched)),e.xp6(1),e.Q6J("ngIf",(null==t.Email?null:t.Email.invalid)&&(null==t.Email?null:t.Email.touched)),e.xp6(1),e.Q6J("ngIf",t.emailExist),e.xp6(5),e.ekj("is-invalid",(null==t.Password?null:t.Password.invalid)&&(null==t.Password?null:t.Password.touched)||t.submited&&(null==t.Password?null:t.Password.untouched)),e.xp6(1),e.Q6J("ngIf",(null==t.Password||null==t.Password.errors?null:t.Password.errors.required)&&(null==t.Password?null:t.Password.touched)),e.xp6(1),e.Q6J("ngIf",null==t.Password||null==t.Password.errors?null:t.Password.errors.minlength),e.xp6(4),e.ekj("is-invalid",(null==t.register.errors?null:t.register.errors.misMatch)||t.submited&&(null==t.ConfirmPassword?null:t.ConfirmPassword.untouched)),e.xp6(1),e.Q6J("ngIf",null==t.register.errors?null:t.register.errors.misMatch),e.xp6(9),e.ekj("is-invalid",(null==t.Street?null:t.Street.invalid)&&(null==t.Street?null:t.Street.touched)||t.submited&&(null==t.Street?null:t.Street.untouched)),e.xp6(1),e.Q6J("ngIf",(null==t.Street||null==t.Street.errors?null:t.Street.errors.required)&&(null==t.Street?null:t.Street.touched)),e.xp6(4),e.ekj("is-invalid",(null==t.AddressLine2?null:t.AddressLine2.invalid)&&(null==t.AddressLine2?null:t.AddressLine2.touched)||t.submited&&(null==t.AddressLine2?null:t.AddressLine2.untouched)),e.xp6(1),e.Q6J("ngIf",(null==t.AddressLine2||null==t.AddressLine2.errors?null:t.AddressLine2.errors.required)&&(null==t.AddressLine2?null:t.AddressLine2.touched)),e.xp6(5),e.ekj("is-invalid",(null==t.City?null:t.City.invalid)&&(null==t.City?null:t.City.touched)||t.submited&&(null==t.City?null:t.City.untouched)),e.xp6(1),e.Q6J("ngIf",(null==t.City||null==t.City.errors?null:t.City.errors.required)&&(null==t.City?null:t.City.touched)),e.xp6(5),e.ekj("is-invalid",(null==t.State?null:t.State.invalid)&&(null==t.State?null:t.State.touched)||t.submited&&(null==t.State?null:t.State.untouched)),e.xp6(1),e.Q6J("ngIf",(null==t.State||null==t.State.errors?null:t.State.errors.required)&&(null==t.State?null:t.State.touched)),e.xp6(4),e.ekj("is-invalid",(null==t.Pin?null:t.Pin.invalid)&&(null==t.Pin?null:t.Pin.touched)||t.submited&&(null==t.Pin?null:t.Pin.untouched)),e.xp6(1),e.Q6J("ngIf",(null==t.Pin||null==t.Pin.errors?null:t.Pin.errors.required)&&(null==t.Pin?null:t.Pin.touched)),e.xp6(1),e.Q6J("ngIf",t.submited),e.xp6(1),e.Q6J("ngIf",t.errorFromserver),e.xp6(3),e.Q6J("disabled",t.updating),e.xp6(1),e.Q6J("ngIf",t.updating)("ngIfElse",s)}},dependencies:[u.O5,a.rH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,d.lW],styles:[".secondDiv[_ngcontent-%COMP%]{background-color:#ffffff1a;color:#03131e;max-width:1000px}.mainDiv[_ngcontent-%COMP%]{background-image:url(black_Backgruond.dd2cc393a0ced50f.png);height:100vh;margin-top:0;padding-top:0;display:flex;align-items:center;justify-content:center}label[_ngcontent-%COMP%]{display:inline-block;color:#fff;width:120px}input[_ngcontent-%COMP%]{display:inline;width:350px}"]}),n})(),canActivate:[p]}];let O=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[a.Bz.forChild(F),a.Bz]}),n})();var Q=o(8576);let E=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,O,l.UX,l.u5,d.ot,f.RB,Q.Gt]}),n})()}}]);