"use strict";(self.webpackChunkProject=self.webpackChunkProject||[]).push([[623],{6623:(q,p,a)=>{a.r(p),a.d(p,{OrderModule:()=>U});var i=a(6895),s=a(3127),e=a(4650),g=a(3990),c=a(1237),m=a(7392);let Z=(()=>{class l{constructor(t,r){this.authService=t,this.route=r}ngOnInit(){}logout(){this.authService.signOut(),localStorage.removeItem("LoginUser"),this.route.navigate(["/seller/auth"])}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(c.xE),e.Y36(s.F0))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-order-nav"]],decls:27,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","p-4","sticky-top"],[1,"navbar-brand","text-white","ms-5"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","ms-lg-auto","border-start","ps-lg-4"],[1,"nav-item"],["routerLink","/seller/profile",1,"nav-link","me-5"],["aria-hidden","false","aria-label","Example edit icon","fontIcon","person",1,"d-lg-block","d-none","mx-lg-auto"],[1,""],[1,"nav-item","me-5"],["routerLink","/seller/products/add_product",1,"nav-link"],["aria-hidden","false","aria-label","Example logout icon","fontIcon","widgets",1,"d-lg-block","d-none","m-lg-auto"],["routerLink","/seller/products",1,"nav-link"],["aria-hidden","false","aria-label","Example logout icon","fontIcon","list_alt",1,"d-lg-block","d-none","m-lg-auto"],[1,"nav-link",3,"click"],["aria-hidden","false","aria-label","Example logout icon","fontIcon","logout",1,"d-lg-block","d-none"]],template:function(t,r){1&t&&(e.TgZ(0,"nav",0)(1,"a",1),e._uU(2,"Products"),e.qZA(),e.TgZ(3,"button",2),e._UZ(4,"span",3),e.qZA(),e.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),e._UZ(9,"mat-icon",8),e.TgZ(10,"span",9),e._uU(11,"Profile Page"),e.qZA()()(),e.TgZ(12,"li",10)(13,"a",11),e._UZ(14,"mat-icon",12),e.TgZ(15,"span",9),e._uU(16,"Add Product"),e.qZA()()(),e.TgZ(17,"li",10)(18,"a",13),e._UZ(19,"mat-icon",14),e.TgZ(20,"span",9),e._uU(21,"Products"),e.qZA()()(),e.TgZ(22,"li",10)(23,"a",15),e.NdJ("click",function(){return r.logout()}),e._UZ(24,"mat-icon",16),e.TgZ(25,"span",9),e._uU(26,"Logout"),e.qZA()()()()()())},dependencies:[s.yS,m.Hw]}),l})();function _(l,n){if(1&l&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij(" Transaction Id: ",null==t.orderDetails?null:t.orderDetails.transactionNo," ")}}function h(l,n){if(1&l&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&l){const t=n.$implicit;e.xp6(2),e.Oqu(null==t?null:t._id),e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.Oqu(null==t?null:t.price),e.xp6(2),e.Oqu(null==t?null:t.qty),e.xp6(2),e.Oqu(null==t?null:t.subTotal)}}let T=(()=>{class l{constructor(t,r,o,d){this.http=t,this.route=r,this.router=o,this.authService=d}ngOnInit(){this.getDeatils()}getDeatils(){this.orderId=this.route.snapshot.paramMap.get("id"),this.http.get(`orders/${this.orderId}`).subscribe({next:t=>{this.orderDetails=t[0]}})}logout(){this.authService.signOut(),localStorage.removeItem("LoginUser"),this.router.navigate(["/seller/auth"])}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(g.w),e.Y36(s.gz),e.Y36(s.F0),e.Y36(c.xE))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-order-deatails"]],decls:46,vars:16,consts:[["id","data",1,"my-auto","text-center","pt-5"],[1,"fw-bold"],[4,"ngIf"],[1,"container","w-100"],[4,"ngFor","ngForOf"],[1,"ms-auto","w-25","mt-3"],[1,"container"]],template:function(t,r){1&t&&(e._UZ(0,"app-order-nav"),e.TgZ(1,"div")(2,"div",0)(3,"h2",1),e._uU(4,"Order Details"),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"p"),e._uU(9," Order Status: "),e.TgZ(10,"u"),e._uU(11),e.qZA()(),e.TgZ(12,"p"),e._uU(13),e.ALo(14,"date"),e.qZA(),e.YNc(15,_,2,1,"p",2),e.TgZ(16,"table",3)(17,"tr")(18,"th"),e._uU(19,"Product Id"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Name"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Price"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Qty"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Sub Total"),e.qZA()(),e.YNc(28,h,11,5,"tr",4),e.qZA(),e.TgZ(29,"div",5),e._uU(30),e.qZA(),e.TgZ(31,"div",6)(32,"h2",1),e._uU(33,"Delivered To"),e.qZA(),e.TgZ(34,"p"),e._uU(35),e.qZA(),e.TgZ(36,"p"),e._uU(37),e.qZA(),e.TgZ(38,"p"),e._uU(39),e.qZA(),e.TgZ(40,"p"),e._uU(41),e.qZA(),e.TgZ(42,"p"),e._uU(43),e.qZA(),e.TgZ(44,"p"),e._uU(45),e.qZA()()()()),2&t&&(e.xp6(6),e.hij("Order Date: ",e.lcZ(7,12,null==r.orderDetails?null:r.orderDetails.createdAt),""),e.xp6(5),e.Oqu(null==r.orderDetails?null:r.orderDetails.status),e.xp6(2),e.hij("Last updated: ",e.lcZ(14,14,null==r.orderDetails?null:r.orderDetails.updatedAt),""),e.xp6(2),e.Q6J("ngIf",null==r.orderDetails?null:r.orderDetails.transactionNo),e.xp6(13),e.Q6J("ngForOf",null==r.orderDetails?null:r.orderDetails.items),e.xp6(2),e.hij(" Total Amount: \u20b9 ",null==r.orderDetails?null:r.orderDetails.total," "),e.xp6(5),e.hij("customer Id: ",null==r.orderDetails?null:r.orderDetails.createdBy,""),e.xp6(2),e.hij("street : ",null==r.orderDetails||null==r.orderDetails.address?null:r.orderDetails.address.street,""),e.xp6(2),e.hij("addressLine2 : ",null==r.orderDetails||null==r.orderDetails.address?null:r.orderDetails.address.addressLine2,""),e.xp6(2),e.hij("city : ",null==r.orderDetails||null==r.orderDetails.address?null:r.orderDetails.address.city,""),e.xp6(2),e.hij("state : ",null==r.orderDetails||null==r.orderDetails.address?null:r.orderDetails.address.state,""),e.xp6(2),e.hij("pin : ",null==r.orderDetails||null==r.orderDetails.address?null:r.orderDetails.address.pin,""))},dependencies:[i.sg,i.O5,Z,i.uU],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center;padding:10px;border-bottom:1px solid black}"]}),l})();var v=a(1864);function O(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",18)(1,"h2",19)(2,"button",20)(3,"span",21),e._uU(4),e.qZA(),e.TgZ(5,"span",2),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"span",22),e._uU(9),e.qZA(),e.TgZ(10,"div",16)(11,"div",23)(12,"span"),e._uU(13),e.qZA()()()()(),e.TgZ(14,"div",24)(15,"div",25)(16,"div",26)(17,"div")(18,"div",27),e._uU(19),e.TgZ(20,"span",28),e._uU(21),e.qZA(),e.TgZ(22,"span",28),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"button",29),e._uU(26," Order Details "),e.qZA()()(),e.TgZ(27,"div",30)(28,"div")(29,"button",31),e.NdJ("click",function(){const d=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.dispatchOrder(d._id))}),e._uU(30," Dispatch Order "),e.qZA(),e.TgZ(31,"button",31),e.NdJ("click",function(){const d=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.deliveredOrder(d._id))}),e._uU(32," Mark As Delivered "),e.qZA()(),e.TgZ(33,"div",32)(34,"button",33),e.NdJ("click",function(){const d=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.cancleOrder(d._id))}),e._uU(35," Cancel Order "),e.qZA()()()()()()()}if(2&l){const t=n.$implicit,r=n.index,o=e.oxw();e.xp6(1),e.Q2q("id","heading",r,""),e.xp6(1),e.Q2q("data-bs-target","#collapse",r,"")("aria-controls","collapse",r,""),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.hij(" ",e.lcZ(7,21,null==t?null:t.createdAt),""),e.xp6(3),e.Oqu(t._id),e.xp6(4),e.Oqu(null==t?null:t.status),e.xp6(1),e.ekj("show",1==o.orders.length),e.Q2q("id","collapse",r,"")("aria-labelledby","heading",r,""),e.xp6(5),e.hij(" Order Id: ",t._id," "),e.xp6(2),e.hij("transactionNo : ",t.transactionNo," "),e.xp6(2),e.hij("Last updated : ",e.lcZ(24,23,t.updatedAt)," "),e.xp6(2),e.MGl("routerLink","/seller/orders/order-deatails/",t.id,""),e.xp6(4),e.ekj("d-none","Dispatched"==t.status||"Delivered"==t.status||"Cancelled"==t.status),e.xp6(2),e.ekj("d-none","Confirmed"==t.status||"Delivered"==t.status||"Cancelled"==t.status),e.xp6(2),e.ekj("d-none","Cancelled"==t.status||"Delivered"==t.status)}}const b=[{path:"",component:(()=>{class l{constructor(t,r,o){this.http=t,this.route=r,this.toast=o,this.pagenumber=1,this.getOrder()}ngOnInit(){}getOrder(){this.http.get(`orders?page=${this.pagenumber}`).subscribe({next:t=>{this.orders=t}})}gotoPage(t){this.pagenumber=t,this.getOrder()}dispatchOrder(t){this.http.patch(`orders/dispatch/${t}`,null).subscribe({next:r=>{this.toast.success("Order Marked as Dispatched!!"),this.getOrder()}})}deliveredOrder(t){this.http.patch(`orders/deliver/${t}`,null).subscribe({next:r=>{this.toast.success("Order Marked as Delivered!!"),this.getOrder()}})}cancleOrder(t){this.http.patch(`orders/cancel/${t}`,null).subscribe({next:r=>{this.toast.error("Order Canceled!!"),this.getOrder()}})}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(g.w),e.Y36(s.F0),e.Y36(v.jE))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-order-history"]],decls:46,vars:16,consts:[[1,"d-flex","text-center","mt-3"],[1,"ms-3"],[1,"ms-5"],[1,"mx-auto","pe-5"],[1,"me-auto","ms-5","ps-4"],[1,"ms-5","ps-5","w-25"],["id","accordionExample",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],[2,"height","55px"],["id","footer",1,"fixed-bottom","bg-body","pt-2","border-top"],[1,"container","w-100"],["aria-label","page navigation example"],[1,"pagination"],[1,"page-item",3,"click"],[1,"page-link",2,"cursor","pointer"],[1,"page-item",3,"hidden","click"],[1,"ms-auto"],[1,"text-secondary","mt-3"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","true",1,"accordion-button"],[1,"ms-1"],[1,"mx-auto"],[1,"me-5"],["data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"mt-2","border-dark","border","rounded-2","p-5"],[1,"mx-auto","w-25","mt-3"],[1,"d-block"],[1,"btn","btn-outline-info","mt-3",3,"routerLink"],[1,"d-flex","mt-3"],[1,"btn","btn-outline-success",3,"click"],[1,"ms-auto","w-25"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(e._UZ(0,"app-order-nav")(1,"hr"),e.TgZ(2,"div",0)(3,"span",1),e._uU(4,"Sr. No."),e.qZA(),e.TgZ(5,"span",2),e._uU(6,"Order Date"),e.qZA(),e.TgZ(7,"span",3),e._uU(8,"Order Id"),e.qZA(),e.TgZ(9,"div",4)(10,"span",5),e._uU(11,"Order Status"),e.qZA()()(),e._UZ(12,"hr"),e.TgZ(13,"div",6),e.YNc(14,O,36,25,"div",7),e.TgZ(15,"div",8),e._UZ(16,"span"),e.qZA()(),e.TgZ(17,"div",9)(18,"div",10)(19,"nav",11)(20,"ul",12)(21,"li",13),e.NdJ("click",function(){return r.orders.page-1<1?"":r.gotoPage(r.orders.page-1)}),e.TgZ(22,"a",14),e._uU(23,"\xab"),e.qZA()(),e.TgZ(24,"li",15),e.NdJ("click",function(){return r.gotoPage((null==r.orders?null:r.orders.page)-2)}),e.TgZ(25,"a",14),e._uU(26),e.qZA()(),e.TgZ(27,"li",15),e.NdJ("click",function(){return r.gotoPage((null==r.orders?null:r.orders.page)-1)}),e.TgZ(28,"a",14),e._uU(29),e.qZA()(),e.TgZ(30,"li",13),e.NdJ("click",function(){return r.gotoPage(null==r.orders?null:r.orders.page)}),e.TgZ(31,"a",14)(32,"u"),e._uU(33),e.qZA()()(),e.TgZ(34,"li",15),e.NdJ("click",function(){return r.gotoPage((null==r.orders?null:r.orders.page)+1)}),e.TgZ(35,"a",14),e._uU(36),e.qZA()(),e.TgZ(37,"li",15),e.NdJ("click",function(){return r.gotoPage((null==r.orders?null:r.orders.page)+2)}),e.TgZ(38,"a",14),e._uU(39),e.qZA()(),e.TgZ(40,"li",13),e.NdJ("click",function(){return(null==r.orders?null:r.orders.page)+1>(null==r.orders?null:r.orders.totalPages)?"":r.gotoPage((null==r.orders?null:r.orders.page)+1)}),e.TgZ(41,"a",14),e._uU(42,"\xbb"),e.qZA()(),e.TgZ(43,"li",16)(44,"div",17),e._uU(45),e.qZA()()()()()()),2&t&&(e.xp6(14),e.Q6J("ngForOf",null==r.orders?null:r.orders.results),e.xp6(7),e.ekj("disabled",(null==r.orders?null:r.orders.page)-1<1),e.xp6(3),e.Q6J("hidden",(null==r.orders?null:r.orders.page)-2<=0),e.xp6(2),e.Oqu((null==r.orders?null:r.orders.page)-2),e.xp6(1),e.Q6J("hidden",(null==r.orders?null:r.orders.page)-1<=0),e.xp6(2),e.Oqu((null==r.orders?null:r.orders.page)-1),e.xp6(4),e.Oqu(null==r.orders?null:r.orders.page),e.xp6(1),e.Q6J("hidden",(null==r.orders?null:r.orders.page)+1>(null==r.orders?null:r.orders.totalPages)),e.xp6(2),e.Oqu((null==r.orders?null:r.orders.page)+1),e.xp6(1),e.Q6J("hidden",(null==r.orders?null:r.orders.page)+2>(null==r.orders?null:r.orders.totalPages)),e.xp6(2),e.Oqu((null==r.orders?null:r.orders.page)+2),e.xp6(1),e.ekj("disabled",(null==r.orders?null:r.orders.page)+1>(null==r.orders?null:r.orders.totalPages)),e.xp6(5),e.AsE(" Showing Result ",null!=r.orders&&r.orders.results?null==r.orders?null:r.orders.results.length:"0"," Out Of ",null==r.orders?null:r.orders.totalResults," "))},dependencies:[i.sg,s.rH,Z,i.uU]}),l})(),pathMatch:"full"},{path:"order-deatails/:id",component:T}];let A=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[s.Bz.forChild(b),s.Bz]}),l})(),U=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[i.ez,A,m.Ps]}),l})()}}]);