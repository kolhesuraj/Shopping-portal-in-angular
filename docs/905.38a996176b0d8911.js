"use strict";(self.webpackChunkProject=self.webpackChunkProject||[]).push([[905],{2905:(Je,A,d)=>{d.r(A),d.d(A,{ProductsModule:()=>Ue});var u=d(6895),g=d(3127),s=d(4006),h=d(5869),e=d(4650),b=d(3990),Z=d(1237),x=d(1864),P=d(7392),y=d(4859),T=d(5861),O=d(1481);function E(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"ngx-dropzone-remove-badge",1),e.NdJ("click",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a._remove(r))}),e.qZA()}}const D=[[["ngx-dropzone-label"]]],U=["ngx-dropzone-label"],B=["fileInput"];function H(o,i){1&o&&e.Hsn(0,2,["*ngIf","!_hasPreviews"])}const Q=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],R=["ngx-dropzone-preview","*","ngx-dropzone-label"];function V(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"ngx-dropzone-remove-badge",2),e.NdJ("click",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a._remove(r))}),e.qZA()}}let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=e.lG2({type:o,selectors:[["ngx-dropzone-label"]]}),o})();function v(o){return null!=o&&"false"!=`${o}`}let F=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(t,n){1&t&&(e.O4$(),e.TgZ(0,"svg"),e._UZ(1,"line",0)(2,"line",1),e.qZA())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),o})();var C=(()=>{return(o=C||(C={}))[o.BACKSPACE=8]="BACKSPACE",o[o.DELETE=46]="DELETE",C;var o})();let k=(()=>{class o{constructor(t){this.sanitizer=t,this._removable=!1,this.removed=new e.vpe,this.tabIndex=0}set file(t){this._file=t}get file(){return this._file}get removable(){return this._removable}set removable(t){this._removable=v(t)}keyEvent(t){switch(t.keyCode){case C.BACKSPACE:case C.DELETE:this.remove()}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}_remove(t){t.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){var t=this;return(0,T.Z)(function*(){return new Promise((n,r)=>{const a=new FileReader;if(a.onload=l=>{n(l.target.result)},a.onerror=l=>{console.error(`FileReader failed on file ${t.file.name}.`),r(l)},!t.file)return r("No file to read. Please provide a file using the [file] Input property.");a.readAsDataURL(t.file)})})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(O.H7))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(t,n){1&t&&e.NdJ("keyup",function(a){return n.keyEvent(a)}),2&t&&(e.Ikx("tabindex",n.tabIndex),e.Akn(n.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:U,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(t,n){1&t&&(e.F$t(D),e.Hsn(0),e.YNc(1,E,1,0,"ngx-dropzone-remove-badge",0)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.removable))},dependencies:[F,u.O5],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),o})(),J=(()=>{class o{parseFileList(t,n,r,a){const l=[],c=[];for(let m=0;m<t.length;m++){const _=t.item(m);this.isAccepted(_,n)?r&&_.size>r?this.rejectFile(c,_,"size"):!a&&l.length>=1?this.rejectFile(c,_,"no_multiple"):l.push(_):this.rejectFile(c,_,"type")}return{addedFiles:l,rejectedFiles:c}}isAccepted(t,n){if("*"===n)return!0;const r=n.split(",").map(p=>p.toLowerCase().trim()),a=t.type.toLowerCase(),l=t.name.toLowerCase();return!!r.find(p=>p.endsWith("/*")?a.split("/")[0]===p.split("/")[0]:p.startsWith(".")?l.endsWith(p):p==a)}rejectFile(t,n,r){const a=n;a.reason=r,t.push(a)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})(),S=(()=>{class o{constructor(t){this.service=t,this.change=new e.vpe,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(t){this._disabled=v(t),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(t){this._multiple=v(t)}get maxFileSize(){return this._maxFileSize}set maxFileSize(t){this._maxFileSize=function G(o){return isNaN(parseFloat(o))||isNaN(Number(o))?null:Number(o)}(t)}get expandable(){return this._expandable}set expandable(t){this._expandable=v(t)}get disableClick(){return this._disableClick}set disableClick(t){this._disableClick=v(t)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(t){this._processDirectoryDrop=v(t)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(t){this.disabled||(this.preventDefault(t),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(t){if(!this.disabled)if(this.preventDefault(t),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){const n=t.dataTransfer.items;if(n.length>0){const r=[],a=[];for(let c=0;c<n.length;c++){const p=n[c].webkitGetAsEntry();p.isFile?r.push(t.dataTransfer.files[c]):p.isDirectory&&a.push(p)}const l=new DataTransfer;if(r.forEach(c=>{l.items.add(c)}),!a.length&&l.items.length&&this.handleFileDrop(l.files),a.length){const c=[];for(const p of a)c.push(this.extractFilesFromDirectory(p));Promise.all(c).then(p=>{p.reduce((m,_)=>[...m,..._]).forEach(m=>{l.items.add(m)}),this.handleFileDrop(l.files)})}}}else this.handleFileDrop(t.dataTransfer.files)}extractFilesFromDirectory(t){function n(a){return r.apply(this,arguments)}function r(){return(r=(0,T.Z)(function*(a){try{return yield new Promise((l,c)=>a.file(l,c))}catch(l){console.log("Error converting a fileEntry to a File: ",l)}})).apply(this,arguments)}return new Promise((a,l)=>{const c=[],p=t.createReader(),m=()=>{p.readEntries(function(){var _=(0,T.Z)(function*(w){if(w.length){const Me=w.filter(z=>z.isFile);for(const z of Me){const Fe=yield n(z);c.push(Fe)}m()}else a(c)});return function(w){return _.apply(this,arguments)}}())};m()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(t){this.handleFileDrop(t.target.files),this._fileInput.nativeElement.value="",this.preventDefault(t)}handleFileDrop(t){const n=this.service.parseFileList(t,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:n.addedFiles,rejectedFiles:n.rejectedFiles,source:this})}preventDefault(t){t.preventDefault(),t.stopPropagation()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(J,2))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(t,n,r){if(1&t&&e.Suo(r,k,5),2&t){let a;e.iGM(a=e.CRH())&&(n._previewChildren=a)}},viewQuery:function(t,n){if(1&t&&e.Gf(B,7),2&t){let r;e.iGM(r=e.CRH())&&(n._fileInput=r.first)}},hostVars:8,hostBindings:function(t,n){1&t&&e.NdJ("click",function(){return n._onClick()})("dragover",function(a){return n._onDragOver(a)})("dragleave",function(){return n._onDragLeave()})("drop",function(a){return n._onDrop(a)}),2&t&&e.ekj("ngx-dz-disabled",n.disabled)("expandable",n.expandable)("unclickable",n.disableClick)("ngx-dz-hovered",n._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[e._Bn([J])],ngContentSelectors:R,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(t,n){1&t&&(e.F$t(Q),e.TgZ(0,"input",0,1),e.NdJ("change",function(a){return n._onFilesSelected(a)}),e.qZA(),e.YNc(2,H,1,0,"ng-content",2),e.Hsn(3),e.Hsn(4,1)),2&t&&(e.Q6J("id",n.id)("multiple",n.multiple)("accept",n.accept)("disabled",n.disabled),e.uIk("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedBy),e.xp6(2),e.Q6J("ngIf",!n._hasPreviews))},dependencies:[u.O5],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),o})(),L=(()=>{class o extends k{constructor(t){super(t),this.defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",this.imageSrc=this.sanitizer.bypassSecurityTrustUrl(this.defaultImgLoading)}set file(t){this._file=t,this.renderImage()}get file(){return this._file}ngOnInit(){this.renderImage()}renderImage(){this.readFile().then(t=>setTimeout(()=>this.imageSrc=t)).catch(t=>console.error(t))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(O.H7))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},features:[e._Bn([{provide:k,useExisting:o}]),e.qOj],ngContentSelectors:U,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,n){1&t&&(e.F$t(D),e._UZ(0,"img",0),e.Hsn(1),e.YNc(2,V,1,0,"ngx-dropzone-remove-badge",1)),2&t&&(e.Q6J("src",n.imageSrc,e.LSH),e.xp6(2),e.Q6J("ngIf",n.removable))},dependencies:[F,u.O5],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),o})(),W=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.ez]]}),o})();function $(o,i){1&o&&(e.TgZ(0,"small",36),e._uU(1," Product Name required"),e.qZA())}function X(o,i){1&o&&(e.TgZ(0,"small",36),e._uU(1," Product Description required"),e.qZA())}function K(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"ngx-dropzone-image-preview",37),e.NdJ("removed",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onRemove(a))}),e.TgZ(1,"ngx-dropzone-label"),e._uU(2),e.qZA()()}if(2&o){const t=i.$implicit;e.Q6J("removable",!0)("file",t),e.xp6(2),e.AsE("",t.name," (",t.type,")")}}function ee(o,i){1&o&&(e.TgZ(0,"small",36),e._uU(1," Product Price required"),e.qZA())}function te(o,i){1&o&&(e.TgZ(0,"div",38),e._uU(1," Please add all details "),e.qZA())}function ne(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Loading ...."),e.qZA())}function oe(o,i){1&o&&e._uU(0,"Add Product")}let ie=(()=>{class o{constructor(t,n,r,a,l){this.httpservice=t,this.fb=n,this.route=r,this.authService=a,this.toster=l,this.incomplete=!1,this.imageSrc=[],this.updating=!1,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.imagetoupload=[],this.files=[]}ngOnInit(){this.editor=new h.ML,this.addProductForm=this.fb.group({name:["",[s.kI.required]],description:["",[s.kI.required]],price:["",[s.kI.required]]})}ngOnDestroy(){this.editor.destroy()}get Name(){return this.addProductForm.get("name")}get description(){return this.addProductForm.get("description")}get price(){return this.addProductForm.get("price")}addProduct(){if(this.addProductForm.valid){this.incomplete=!1,this.updating=!0;const t=new FormData;t.append("name",this.addProductForm.value.name),t.append("description",this.addProductForm.value.description),t.append("price",this.addProductForm.value.price);for(let n=0;n<this.files.length;n++)t.append("images",this.files[n]);this.httpservice.post("products",t).subscribe({next:()=>{this.toster.success("Product Added"),this.addProductForm.reset(),this.reset(),this.route.navigate(["seller/products/list"])},error:n=>{this.updating=!1}})}else this.incomplete=!0,this.updating=!1}logout(){this.authService.signOut(),localStorage.removeItem("LoginUser"),this.route.navigate(["/seller/auth"])}cancel(){this.reset(),this.route.navigate(["/seller/products/list"])}reset(){this.incomplete=!1,this.imageSrc=[]}onSelect(t){this.files.push(...t.addedFiles)}onRemove(t){this.files.splice(this.files.indexOf(t),1)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b.w),e.Y36(s.qu),e.Y36(g.F0),e.Y36(Z.xE),e.Y36(x.jE))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-product"]],decls:54,vars:17,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","p-4"],[1,"navbar-brand","text-white","ms-5"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","ms-lg-auto","border-start","ps-lg-4"],[1,"nav-item"],["routerLink","/seller/profile",1,"nav-link","me-5"],["aria-hidden","false","aria-label","Example edit icon","fontIcon","person",1,"d-lg-block","d-none","mx-lg-auto"],[1,""],[1,"nav-item","me-5"],["routerLink","/seller/products",1,"nav-link"],["aria-hidden","false","aria-label","Example logout icon","fontIcon","apps",1,"d-lg-block","d-none","m-lg-auto"],[1,"nav-link",3,"click"],["aria-hidden","false","aria-label","Example logout icon","fontIcon","logout",1,"d-lg-block","d-none"],[1,"container","border","border-dark","mt-5"],[1,"display-5","text-center"],[1,"w-50","p-5","m-auto",3,"formGroup","ngSubmit"],[1,"form-floating","mb-4"],["type","text","id","floatingInput","formControlName","name","placeholder","Product Name",1,"form-control"],["for","floatingInput"],["class","text-danger float-end",4,"ngIf"],[1,"mb-4"],[1,"editor"],[3,"editor","toolbar"],["formControlName","description",3,"editor","placeholder"],[3,"change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed",4,"ngFor","ngForOf"],[1,"form-floating","mt-3"],["type","number","id","floatingInput","formControlName","price","placeholder","Price",1,"form-control"],["class","text-danger float-start",4,"ngIf"],[1,"mt-5"],["type","submit","mat-flat-button","","color","primary",3,"disabled"],[4,"ngIf","ngIfElse"],["elseBlock",""],["type","reset","mat-flat-button","","color","warn",1,"ms-5",3,"click"],[1,"text-danger","float-end"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed"],[1,"text-danger","float-start"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nav",0)(1,"a",1),e._uU(2,"Products"),e.qZA(),e.TgZ(3,"button",2),e._UZ(4,"span",3),e.qZA(),e.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),e._UZ(9,"mat-icon",8),e.TgZ(10,"span",9),e._uU(11,"profile Page"),e.qZA()()(),e.TgZ(12,"li",10)(13,"a",11),e._UZ(14,"mat-icon",12),e.TgZ(15,"span",9),e._uU(16,"All Product"),e.qZA()()(),e.TgZ(17,"li",10)(18,"a",13),e.NdJ("click",function(){return n.logout()}),e._UZ(19,"mat-icon",14),e.TgZ(20,"span",9),e._uU(21,"Logout"),e.qZA()()()()()(),e.TgZ(22,"div",15)(23,"p",16),e._uU(24,"Add Product"),e.qZA(),e.TgZ(25,"div")(26,"form",17),e.NdJ("ngSubmit",function(){return n.addProduct()}),e.TgZ(27,"div",18),e._UZ(28,"input",19),e.TgZ(29,"label",20),e._uU(30,"Product Name"),e.qZA(),e.YNc(31,$,2,0,"small",21),e.qZA(),e.TgZ(32,"div",22)(33,"div",23),e._UZ(34,"ngx-editor-menu",24)(35,"ngx-editor",25),e.qZA(),e.YNc(36,X,2,0,"small",21),e.qZA(),e.TgZ(37,"ngx-dropzone",26),e.NdJ("change",function(a){return n.onSelect(a)}),e.TgZ(38,"ngx-dropzone-label"),e._uU(39,"Drop Images"),e.qZA(),e.YNc(40,K,3,4,"ngx-dropzone-image-preview",27),e.qZA(),e.TgZ(41,"div",28),e._UZ(42,"input",29),e.TgZ(43,"label",20),e._uU(44,"Price"),e.qZA(),e.YNc(45,ee,2,0,"small",21),e.qZA(),e.YNc(46,te,2,0,"div",30),e.TgZ(47,"div",31)(48,"button",32),e.YNc(49,ne,2,0,"span",33),e.YNc(50,oe,1,0,"ng-template",null,34,e.W1O),e.qZA(),e.TgZ(52,"button",35),e.NdJ("click",function(){return n.cancel()}),e._uU(53," Cancel "),e.qZA()()()()()),2&t){const r=e.MAs(51);e.xp6(26),e.Q6J("formGroup",n.addProductForm),e.xp6(2),e.ekj("is-invalid",(null==n.Name?null:n.Name.invalid)&&(null==n.Name?null:n.Name.touched)),e.xp6(3),e.Q6J("ngIf",(null==n.Name?null:n.Name.invalid)&&(null==n.Name?null:n.Name.touched)),e.xp6(3),e.Q6J("editor",n.editor)("toolbar",n.toolbar),e.xp6(1),e.Q6J("editor",n.editor)("placeholder","Description..."),e.xp6(1),e.Q6J("ngIf",(null==n.description?null:n.description.invalid)&&(null==n.description?null:n.description.touched)),e.xp6(4),e.Q6J("ngForOf",n.files),e.xp6(2),e.ekj("is-invalid",(null==n.price?null:n.price.invalid)&&(null==n.price?null:n.price.touched)),e.xp6(3),e.Q6J("ngIf",(null==n.price?null:n.price.invalid)&&(null==n.price?null:n.price.touched)),e.xp6(1),e.Q6J("ngIf",n.incomplete),e.xp6(2),e.Q6J("disabled",n.updating),e.xp6(1),e.Q6J("ngIf",n.updating)("ngIfElse",r)}},dependencies:[u.sg,u.O5,g.yS,P.Hw,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,y.lW,S,M,L,h.tP,h.Mn],styles:["li[_ngcontent-%COMP%]{cursor:pointer;margin-left:30px}input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none}.editor[_ngcontent-%COMP%]{border:1px solid gray;padding:5px;border-radius:5px}"]}),o})();var re=d(8675),ae=d(4004),le=d(5226),q=d.n(le),j=d(9549),Y=d(4144),I=d(3805),se=d(3238),N=d(3935);function de(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"ul",49)(1,"li",50),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.sortBy(a))})("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.flag=!1)}),e.TgZ(2,"a",51),e._uU(3),e.qZA()()()}if(2&o){const t=i.$implicit,n=i.index;e.xp6(1),e.ekj("w-100",0==n),e.xp6(2),e.Oqu(t)}}function ce(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"ul",52)(1,"li",50),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.itemCount(a))})("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.flag=!1)}),e.TgZ(2,"a",51),e._uU(3),e.qZA()()()}if(2&o){const t=i.$implicit,n=i.index;e.xp6(1),e.ekj("w-100",0==n),e.xp6(2),e.Oqu(t)}}function pe(o,i){if(1&o&&(e.TgZ(0,"mat-option",53),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function ue(o,i){if(1&o&&(e.TgZ(0,"div",72),e._UZ(1,"img",73),e.qZA()),2&o){const t=i.$implicit;e.ekj("active",0==i.index),e.xp6(1),e.Q6J("src",t.url,e.LSH)}}function ge(o,i){if(1&o&&(e.TgZ(0,"div",63)(1,"div",64)(2,"div",65),e.YNc(3,ue,2,3,"div",66),e.qZA(),e.TgZ(4,"button",67),e._UZ(5,"span",68),e.TgZ(6,"span",69),e._uU(7,"Previous"),e.qZA()(),e.TgZ(8,"button",70),e._UZ(9,"span",71),e.TgZ(10,"span",69),e._uU(11,"Next"),e.qZA()()()()),2&o){const t=e.oxw(),n=t.index,r=t.$implicit;e.xp6(1),e.MGl("id","img",n,""),e.xp6(2),e.Q6J("ngForOf",r.images),e.xp6(1),e.ekj("d-none",r.images.length<=1),e.Q2q("data-bs-target","#img",n,""),e.xp6(4),e.ekj("d-none",r.images.length<=1),e.Q2q("data-bs-target","#img",n,"")}}function me(o,i){1&o&&e._UZ(0,"div",63)}function _e(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",54),e.YNc(1,ge,12,8,"div",55),e.YNc(2,me,1,0,"ng-template",null,56,e.W1O),e.TgZ(4,"div",57)(5,"h3",58),e._uU(6),e.qZA(),e._UZ(7,"p",59),e.ALo(8,"dompurify"),e.TgZ(9,"h2",60),e._uU(10),e.qZA(),e.TgZ(11,"button",61),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.gotoproduct(a._id))}),e._uU(12," Details "),e.qZA(),e.TgZ(13,"button",62),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteProduct(a._id))}),e._uU(14," Delete "),e.qZA()()()}if(2&o){const t=i.$implicit,n=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.images.length>=1)("ngIfElse",n),e.xp6(5),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("innerHTML",e.lcZ(8,5,null==t?null:t.description),e.oJD),e.xp6(3),e.hij("Rs.",t.price,"")}}let fe=(()=>{class o{constructor(t,n,r,a){this.route=t,this.authService=n,this.httpservice=r,this.toaster=a,this.list={},this.myControl=new s.NI(""),this.flag=!1,this.itemPerPage=[4,8,16],this.sortByarray=["name","price"],this.pagenumber=1,this.limit=4,this.search="",this.sort="name",this.suggestion=[""],this.token=0,this.getProducts()}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe((0,re.O)(" "),(0,ae.U)(t=>this._filter(t||"")))}_filter(t){const n=t.toLowerCase();return this.suggestion.filter(r=>r.toLowerCase().includes(n))}getSuggetion(){this.httpservice.get(`products?limit=${this.list.totalResults}`).subscribe({next:n=>{console.log(n),n.results.forEach(r=>{this.suggestion.includes(r.name)||this.suggestion.push(r.name)})}})}getProducts(){let t;""==this.search||" "==this.search?(this.setdata(),t=this.data):(this.setdata(),t=this.data,t=`${t}&name=${this.search}`),this.httpservice.get(`products?${t}`).subscribe({next:n=>{this.list=n,this.result=n.results,0==this.token&&(this.getSuggetion(),this.token=1)}})}setdata(){this.data=`page=${this.pagenumber}&limit=${this.limit}&sortBy=${this.sort}`}logout(){this.authService.signOut(),localStorage.removeItem("LoginUser"),this.route.navigate(["/seller/auth"])}gotoproduct(t){this.route.navigate(["/seller/products/product",t])}itemCount(t){this.limit=t,this.getProducts()}sortBy(t){this.sort=t,this.getProducts()}searchinput(t){this.search=t||"",this.getProducts()}gotoPage(t){this.pagenumber=t,this.getProducts()}deleteProduct(t){q().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(n=>{n.isConfirmed&&this.httpservice.delete(`products/${t}`).subscribe({next:()=>{this.toaster.success("Product Deleted "),this.getProducts()}})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.F0),e.Y36(Z.xE),e.Y36(b.w),e.Y36(x.jE))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list"]],decls:85,vars:29,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","p-4","sticky-top"],[1,"navbar-brand","text-white","ms-5"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","ms-lg-auto","border-start","ps-lg-4"],[1,"nav-item"],["routerLink","/seller/profile",1,"nav-link","me-5"],["aria-hidden","false","aria-label","Example edit icon","fontIcon","person",1,"d-lg-block","d-none","mx-lg-auto"],[1,""],[1,"nav-item","me-5"],["routerLink","/seller/products/add_product",1,"nav-link"],["aria-hidden","false","aria-label","Example logout icon","fontIcon","widgets",1,"d-lg-block","d-none","m-lg-auto"],["routerLink","/seller/orders",1,"nav-link"],["aria-hidden","false","aria-label","Example logout icon","fontIcon","notifications",1,"d-lg-block","d-none","m-lg-auto"],[1,"nav-link",3,"click"],["aria-hidden","false","aria-label","Example logout icon","fontIcon","logout",1,"d-lg-block","d-none"],["id","mySidenav",1,"sidenav"],[1,"closebtn",3,"click"],["href","#submenu1","data-bs-toggle","collapse",1,"align-middle"],[1,"fa","fa-sort"],[1,"ms-1","d-none","d-sm-inline"],["class","collapse nav flex-column ms-1","id","submenu1","data-bs-parent","#menu",4,"ngFor","ngForOf"],["href","#submenu2","data-bs-toggle","collapse",1,"align-middle"],[1,"fa","fa-columns"],["class","collapse nav flex-column ms-1","id","submenu2","data-bs-parent","#menu",4,"ngFor","ngForOf"],[1,"d-flex","mt-3"],[1,"d-inline"],["mat-raised-button","",1,"ms-2",3,"click"],[1,"example-form","ms-auto","me-5"],["appearance","fill",1,"example-full-width"],["type","text","placeholder","search by name","matInput","",3,"formControl","matAutocomplete","keyup"],["search",""],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"row","justify-content-around","d-flex"],["class","card mb-5 border border-dark ms-4 me-4 col-1","style","width: 20rem; height: 30rem",4,"ngFor","ngForOf"],[1,"container","text-center"],[1,"text-secondary"],["id","footer",1,"fixed-bottom","bg-body","pt-2","border-top"],[1,"container","w-100"],["aria-label","page navigation example"],[1,"pagination"],[1,"page-item",3,"click"],[1,"page-link",2,"cursor","pointer"],[1,"page-item",3,"hidden","click"],[1,"ms-auto"],[1,"text-secondary","mt-3"],["id","submenu1","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],[3,"click"],[1,"nav-link","px-0"],["id","submenu2","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],[3,"value"],[1,"card","mb-5","border","border-dark","ms-4","me-4","col-1",2,"width","20rem","height","30rem"],["style","height: 18rem",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"card-body","mt-1"],[1,"card-title","d-block",2,"font-weight","500"],[1,"card-text","desc",3,"innerHTML"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger","ms-2",3,"click"],[2,"height","18rem"],["data-bs-ride","carousel",1,"carousel","slide","mt-3","mb-2","justify-content-center",3,"id"],[1,"carousel-inner","text-center"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","false",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","false",1,"carousel-control-next-icon"],[1,"carousel-item"],["alt","img.public_id",1,"",3,"src"]],template:function(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"nav",0)(1,"a",1),e._uU(2,"Products"),e.qZA(),e.TgZ(3,"button",2),e._UZ(4,"span",3),e.qZA(),e.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),e._UZ(9,"mat-icon",8),e.TgZ(10,"span",9),e._uU(11,"Profile Page"),e.qZA()()(),e.TgZ(12,"li",10)(13,"a",11),e._UZ(14,"mat-icon",12),e.TgZ(15,"span",9),e._uU(16,"Add Product"),e.qZA()()(),e.TgZ(17,"li",10)(18,"a",13),e._UZ(19,"mat-icon",14),e.TgZ(20,"span",9),e._uU(21,"Orders"),e.qZA()()(),e.TgZ(22,"li",10)(23,"a",15),e.NdJ("click",function(){return n.logout()}),e._UZ(24,"mat-icon",16),e.TgZ(25,"span",9),e._uU(26,"Logout"),e.qZA()()()()()(),e.TgZ(27,"div",17)(28,"a",18),e.NdJ("click",function(){return n.flag=!1}),e._uU(29,"\xd7"),e.qZA(),e.TgZ(30,"a",19),e._UZ(31,"i",20),e.TgZ(32,"span",21),e._uU(33,"Sort By"),e.qZA()(),e.YNc(34,de,4,3,"ul",22),e.TgZ(35,"a",23),e._UZ(36,"i",24),e.TgZ(37,"span",21),e._uU(38,"Items Per Page "),e.qZA()(),e.YNc(39,ce,4,3,"ul",25),e.qZA(),e.TgZ(40,"div",26)(41,"span",27)(42,"button",28),e.NdJ("click",function(){return n.flag=!0}),e._uU(43," Filter "),e.qZA()(),e.TgZ(44,"form",29)(45,"mat-form-field",30)(46,"input",31,32),e.NdJ("keyup",function(){e.CHM(r);const l=e.MAs(47);return e.KtG(n.searchinput(l.value))}),e.qZA(),e.TgZ(48,"mat-autocomplete",33,34),e.YNc(50,pe,2,2,"mat-option",35),e.ALo(51,"async"),e.qZA()()()(),e.TgZ(52,"div",36),e.YNc(53,_e,15,7,"div",37),e.TgZ(54,"div",38)(55,"h4",39),e._uU(56,"Nothing To Show"),e.qZA()(),e.TgZ(57,"div",40)(58,"div",41)(59,"nav",42)(60,"ul",43)(61,"li",44),e.NdJ("click",function(){return n.list.page-1<1?"":n.gotoPage(n.list.page-1)}),e.TgZ(62,"a",45),e._uU(63,"\xab"),e.qZA()(),e.TgZ(64,"li",46),e.NdJ("click",function(){return n.gotoPage(n.list.page-2)}),e.TgZ(65,"a",45),e._uU(66),e.qZA()(),e.TgZ(67,"li",46),e.NdJ("click",function(){return n.gotoPage(n.list.page-1)}),e.TgZ(68,"a",45),e._uU(69),e.qZA()(),e.TgZ(70,"li",44),e.NdJ("click",function(){return n.gotoPage(n.list.page)}),e.TgZ(71,"a",45),e._uU(72),e.qZA()(),e.TgZ(73,"li",46),e.NdJ("click",function(){return n.gotoPage(n.list.page+1)}),e.TgZ(74,"a",45),e._uU(75),e.qZA()(),e.TgZ(76,"li",46),e.NdJ("click",function(){return n.gotoPage(n.list.page+2)}),e.TgZ(77,"a",45),e._uU(78),e.qZA()(),e.TgZ(79,"li",44),e.NdJ("click",function(){return n.list.page+1>n.list.totalPages?"":n.gotoPage(n.list.page+1)}),e.TgZ(80,"a",45),e._uU(81,"\xbb"),e.qZA()(),e.TgZ(82,"li",47)(83,"div",48),e._uU(84),e.qZA()()()()()()()}if(2&t){const r=e.MAs(49);e.xp6(27),e.Udp("width",n.flag?"150px":"0px"),e.xp6(7),e.Q6J("ngForOf",n.sortByarray),e.xp6(5),e.Q6J("ngForOf",n.itemPerPage),e.xp6(7),e.Q6J("formControl",n.myControl)("matAutocomplete",r),e.xp6(4),e.Q6J("ngForOf",e.lcZ(51,27,n.filteredOptions)),e.xp6(2),e.Udp("margin-left",n.flag?"250px":"16px"),e.xp6(1),e.Q6J("ngForOf",n.list.results),e.xp6(1),e.ekj("d-none",!n.list),e.xp6(7),e.ekj("disabled",n.list.page-1<1),e.xp6(3),e.Q6J("hidden",n.list.page-2<=0),e.xp6(2),e.Oqu(n.list.page-2),e.xp6(1),e.Q6J("hidden",n.list.page-1<=0),e.xp6(2),e.Oqu(n.list.page-1),e.xp6(3),e.Oqu(n.list.page),e.xp6(1),e.Q6J("hidden",n.list.page+1>n.list.totalPages),e.xp6(2),e.Oqu(n.list.page+1),e.xp6(1),e.Q6J("hidden",n.list.page+2>n.list.totalPages),e.xp6(2),e.Oqu(n.list.page+2),e.xp6(1),e.ekj("disabled",n.list.page+1>n.list.totalPages),e.xp6(5),e.AsE(" Showing Result ",n.result?n.result.length:"0"," Out Of ",n.list.totalResults," ")}},dependencies:[u.sg,u.O5,g.yS,P.Hw,s._Y,s.Fj,s.JJ,s.JL,s.F,s.oH,y.lW,j.KE,Y.Nt,I.XC,I.ZL,se.ey,u.Ov,N.XJ],styles:["nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.collapse[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:30px}img[_ngcontent-%COMP%]{width:auto;height:150px}.row[_ngcontent-%COMP%]{position:relative;top:20px}.sidenav[_ngcontent-%COMP%]{height:100%;width:0;position:fixed;z-index:1;top:110px;left:0;background-color:#111;overflow-x:hidden;padding-top:60px;transition:.5s}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px;text-decoration:none;cursor:pointer;color:#818181;display:block;transition:.3s}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f1f1f1}.expolre[_ngcontent-%COMP%]{width:150px}.ex[_ngcontent-%COMP%]{width:0px}.sidenav[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]{position:absolute;top:0;right:25px;font-size:36px;margin-left:50px}#main[_ngcontent-%COMP%]{transition:margin-left .5s;padding:20px}@media screen and (max-height: 450px){.sidenav[_ngcontent-%COMP%]{padding-top:15px}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}.carousel-control-next[_ngcontent-%COMP%], .carousel-control-prev[_ngcontent-%COMP%]{filter:invert(100%)}.desc[_ngcontent-%COMP%]{min-height:62px;overflow:hidden;text-overflow:ellipsis}"]}),o})();var f=d(5412);const he=function(o){return{"border-danger":o}};function ve(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e._UZ(1,"img",11),e.TgZ(2,"i",12),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.deleteimg(a.public_id))}),e.TgZ(3,"span"),e._UZ(4,"input",13),e.qZA()()()}if(2&o){const t=i.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("src",t.url,e.LSH)("ngClass",e.VKq(2,he,n.deletearray.includes(t.public_id)))}}function be(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"ngx-dropzone-image-preview",14),e.NdJ("removed",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.onRemove(a))}),e.TgZ(1,"ngx-dropzone-label"),e._uU(2),e.qZA()()}if(2&o){const t=i.$implicit;e.Q6J("removable",!0)("file",t),e.xp6(2),e.AsE("",t.name," (",t.type,")")}}function xe(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Loading ...."),e.qZA())}function Ce(o,i){1&o&&e._uU(0,"Update Images")}function Ze(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",1)(1,"h2"),e._uU(2),e.qZA(),e.YNc(3,ve,5,4,"div",2),e._UZ(4,"hr"),e.TgZ(5,"ngx-dropzone",3),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onSelect(r))}),e.TgZ(6,"ngx-dropzone-label"),e._uU(7,"Drop Image"),e.qZA(),e.YNc(8,be,3,4,"ngx-dropzone-image-preview",4),e.qZA(),e.TgZ(9,"div",5)(10,"button",6),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.update())}),e.YNc(11,xe,2,0,"span",7),e.YNc(12,Ce,1,0,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(14,"button",9),e._uU(15," cancel "),e.qZA()()()}if(2&o){const t=e.MAs(13),n=e.oxw();e.xp6(2),e.Oqu(n.product.name),e.xp6(1),e.Q6J("ngForOf",n.product.images),e.xp6(5),e.Q6J("ngForOf",n.files),e.xp6(2),e.Q6J("disabled",n.updating),e.xp6(1),e.Q6J("ngIf",n.updating)("ngIfElse",t)}}let Pe=(()=>{class o{constructor(t,n,r,a){this.data=t,this.httpservice=n,this.dialogRef=r,this.toaster=a,this.deletearray=[],this.imageSrc=[],this.images=[],this.updating=!1,this.files=[]}ngOnInit(){console.log(this.data),this.product=this.data.product}update(){this.updating=!0;let t=new FormData;this.deletearray.forEach(n=>{t.append("delete",n)}),this.files.forEach(n=>{t.append("new_images",n)}),this.httpservice.patch(`products/images/${this.product._id}`,t).subscribe({next:n=>{console.log(n),this.toaster.success("Images Updated"),this.dialogRef.close()}})}deleteimg(t){let n=!1;this.deletearray.length<1?(this.deletearray.push(t),n=!0):(this.deletearray.forEach((r,a)=>{r==t&&(this.deletearray.splice(a,1),n=!0)}),0==n&&this.deletearray.push(t))}onSelect(t){this.files.push(...t.addedFiles)}onRemove(t){this.files.splice(this.files.indexOf(t),1)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.WI),e.Y36(b.w),e.Y36(f.so),e.Y36(x.jE))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-images"]],decls:1,vars:1,consts:[["class","container-fluid text-center",4,"ngIf"],[1,"container-fluid","text-center"],["class","d-inline m-5","style","width: 100vw",4,"ngFor","ngForOf"],[3,"change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed",4,"ngFor","ngForOf"],[1,"d-flex","mx-auto","w-75","mt-3"],[1,"btn","btn-primary","w-auto","ms-3",3,"disabled","click"],[4,"ngIf","ngIfElse"],["elseBlock",""],["mat-dialog-close","true",1,"btn","btn-danger","w-auto","ms-3"],[1,"d-inline","m-5",2,"width","100vw"],["alt","img.public_id","height","100rem",1,"m-3","border","p-3",3,"src","ngClass"],[1,"fa","fa-circle-xmark",3,"click"],["type","checkbox","name","","id","","hidden",""],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed"]],template:function(t,n){1&t&&e.YNc(0,Ze,16,6,"div",0),2&t&&e.Q6J("ngIf",n.product)},dependencies:[u.mk,u.sg,u.O5,f.ZT,S,M,L],styles:["div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:larger;color:red;position:relative;top:-50px;left:-20px}"]}),o})();function ye(o,i){1&o&&(e.TgZ(0,"small",19),e._uU(1," Product Name Required"),e.qZA())}function Te(o,i){1&o&&(e.TgZ(0,"small",19),e._uU(1," Product Description Required"),e.qZA())}function ke(o,i){1&o&&(e.TgZ(0,"small",19),e._uU(1," Product Price Required"),e.qZA())}function Ie(o,i){1&o&&(e.TgZ(0,"div",20),e._uU(1," Please Add All Details "),e.qZA())}function Ne(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Loading ...."),e.qZA())}function we(o,i){1&o&&e._uU(0,"Update Details")}let ze=(()=>{class o{constructor(t,n,r,a,l,c,p){this.data=t,this.httpservice=n,this.route=r,this.authService=a,this.fb=l,this._dialogRef=c,this.toaster=p,this.incomplete=!1,this.updating=!1,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]]}ngOnInit(){this.editor=new h.ML,this.updateProductForm=this.fb.group({name:[this.data.name,[s.kI.required]],description:[this.data.description,[s.kI.required]],price:[this.data.price,[s.kI.required]]}),console.log(this.updateProductForm.value.description)}ngOnDestroy(){this.editor.destroy()}get Name(){return this.updateProductForm.get("name")}get description(){return this.updateProductForm.get("description")}get price(){return this.updateProductForm.get("price")}updateDetils(){this.updateProductForm.valid?(this.incomplete=!1,this.updating=!0,this.httpservice.patch(`products/${this.data.product_id} `,this.updateProductForm.value).subscribe(()=>{this.toaster.success("Product Details Updated"),this.updateProductForm.reset(),this._dialogRef.close()})):(this.incomplete=!0,this.updating=!1)}logout(){this.authService.signOut(),localStorage.removeItem("LoginUser"),this.route.navigate(["/auth"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.WI),e.Y36(b.w),e.Y36(g.F0),e.Y36(Z.xE),e.Y36(s.qu),e.Y36(f.so),e.Y36(x.jE))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-product"]],decls:30,vars:16,consts:[[1,"container-fluid","border","border-dark"],[1,"display-5","text-center"],[1,"p-5","m-auto",3,"formGroup","ngSubmit"],[1,"form-floating","mb-4"],["type","text","id","floatingInput","formControlName","name","placeholder","Product Name",1,"form-control"],["for","floatingInput"],["class","text-danger float-end",4,"ngIf"],[1,"mb-4"],[1,"editor"],[3,"editor","toolbar"],["formControlName","description",3,"editor","placeholder"],[1,"form-floating"],["type","number","id","floatingInput","formControlName","price","placeholder","Price",1,"form-control"],["class","text-danger float-start",4,"ngIf"],[1,"mt-5"],["type","submit","mat-flat-button","","color","primary",3,"disabled"],[4,"ngIf","ngIfElse"],["elseBlock",""],["type","reset","mat-flat-button","","color","warn","mat-dialog-close","",1,"ms-5"],[1,"text-danger","float-end"],[1,"text-danger","float-start"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Update Product"),e.qZA(),e.TgZ(3,"div")(4,"form",2),e.NdJ("ngSubmit",function(){return n.updateDetils()}),e.TgZ(5,"div",3),e._UZ(6,"input",4),e.TgZ(7,"label",5),e._uU(8,"Product Name"),e.qZA(),e.YNc(9,ye,2,0,"small",6),e.qZA(),e.TgZ(10,"div",7)(11,"label"),e._uU(12,"Description"),e.qZA(),e.TgZ(13,"div",8),e._UZ(14,"ngx-editor-menu",9)(15,"ngx-editor",10),e.qZA(),e.YNc(16,Te,2,0,"small",6),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"input",12),e.TgZ(19,"label",5),e._uU(20,"Price"),e.qZA(),e.YNc(21,ke,2,0,"small",6),e.qZA(),e.YNc(22,Ie,2,0,"div",13),e.TgZ(23,"div",14)(24,"button",15),e.YNc(25,Ne,2,0,"span",16),e.YNc(26,we,1,0,"ng-template",null,17,e.W1O),e.qZA(),e.TgZ(28,"button",18),e._uU(29," Cancel "),e.qZA()()()()()),2&t){const r=e.MAs(27);e.xp6(4),e.Q6J("formGroup",n.updateProductForm),e.xp6(2),e.ekj("is-invalid",(null==n.Name?null:n.Name.invalid)&&(null==n.Name?null:n.Name.touched)),e.xp6(3),e.Q6J("ngIf",(null==n.Name?null:n.Name.invalid)&&(null==n.Name?null:n.Name.touched)),e.xp6(5),e.Q6J("editor",n.editor)("toolbar",n.toolbar),e.xp6(1),e.Q6J("editor",n.editor)("placeholder","Description..."),e.xp6(1),e.Q6J("ngIf",(null==n.description?null:n.description.invalid)&&(null==n.description?null:n.description.touched)),e.xp6(2),e.ekj("is-invalid",(null==n.price?null:n.price.invalid)&&(null==n.price?null:n.price.touched)),e.xp6(3),e.Q6J("ngIf",(null==n.price?null:n.price.invalid)&&(null==n.price?null:n.price.touched)),e.xp6(1),e.Q6J("ngIf",n.incomplete),e.xp6(2),e.Q6J("disabled",n.updating),e.xp6(1),e.Q6J("ngIf",n.updating)("ngIfElse",r)}},dependencies:[u.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,y.lW,f.ZT,h.tP,h.Mn],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none}.editor[_ngcontent-%COMP%]{border:1px solid gray;padding:5px;border-radius:5px}"]}),o})();function Ae(o,i){if(1&o&&(e.TgZ(0,"div",33),e._UZ(1,"img",34),e.qZA()),2&o){const t=i.$implicit;e.ekj("active",0==i.index),e.xp6(1),e.Q6J("src",t.url,e.LSH)}}const Oe=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:fe},{path:"add_product",component:ie},{path:"product/:id",component:(()=>{class o{constructor(t,n,r,a,l,c){this.activateRoute=t,this.httpservice=n,this.authService=r,this.route=a,this._dialog=l,this.toaster=c,this.productId=this.activateRoute.snapshot.paramMap.get("id"),this.getDetails()}ngOnInit(){}getDetails(){this.httpservice.get(`products/${this.productId}`).subscribe({next:t=>{this.product=t}})}logout(){this.authService.signOut(),localStorage.removeItem("LoginUser"),this.route.navigate(["/seller/auth"])}update(){this._dialog.open(ze,{width:"100%",data:{product_id:this.productId,name:this.product?.name,description:this.product?.description,price:this.product?.price}}).afterClosed().subscribe(()=>{this.getDetails()})}updateImages(){const t=this._dialog.open(Pe,{width:"100%",data:{product:this.product}});t.afterOpened().subscribe(()=>{document.querySelector(".navbar").classList.remove("sticky-top")}),t.afterClosed().subscribe(()=>{document.querySelector(".navbar").classList.add("sticky-top"),this.getDetails()})}deleteProduct(){q().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",confirmButtonText:"Yes, delete it!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then(t=>{t.isConfirmed&&this.httpservice.delete(`products/${this.productId}`).subscribe({next:()=>{this.toaster.success("Product Deleted!"),this.route.navigate(["./products"])}})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.gz),e.Y36(b.w),e.Y36(Z.xE),e.Y36(g.F0),e.Y36(f.uw),e.Y36(x.jE))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-product"]],decls:61,vars:6,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","p-4","sticky-top"],[1,"navbar-brand","text-white","ms-5"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","ms-lg-auto","border-start","ps-lg-4"],[1,"nav-item"],["routerLink","/seller/profile",1,"nav-link","me-5"],["aria-hidden","false","aria-label","Example edit icon","fontIcon","person",1,"d-lg-block","d-none","mx-lg-auto"],[1,""],[1,"nav-item","me-5"],["routerLink","/seller/products",1,"nav-link"],["aria-hidden","false","aria-label","Example list icon","fontIcon","list_alt",1,"d-lg-block","d-none","m-lg-auto"],["routerLink","/seller/products/add_product",1,"nav-link"],["aria-hidden","false","aria-label","Example logout icon","fontIcon","widgets",1,"d-lg-block","d-none","m-lg-auto"],["routerLink","/seller/orders",1,"nav-link"],["aria-hidden","false","aria-label","Example logout icon","fontIcon","notifications",1,"d-lg-block","d-none","m-lg-auto"],[1,"nav-link",3,"click"],["aria-hidden","false","aria-label","Example logout icon","fontIcon","logout",1,"d-lg-block","d-none"],[1,"container","border-dark","border","mt-3","p-5"],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner","text-center"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"text-center","mt-3"],[3,"innerHTML"],[1,"text-center"],[1,"btn","btn-primary","me-3",3,"click"],[1,"btn","btn-danger","me-3",3,"click"],[1,"carousel-item"],["alt","img.public_id",3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0)(1,"a",1),e._uU(2,"Products"),e.qZA(),e.TgZ(3,"button",2),e._UZ(4,"span",3),e.qZA(),e.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),e._UZ(9,"mat-icon",8),e.TgZ(10,"span",9),e._uU(11,"Profile Page"),e.qZA()()(),e.TgZ(12,"li",10)(13,"a",11),e._UZ(14,"mat-icon",12),e.TgZ(15,"span",9),e._uU(16,"All Product"),e.qZA()()(),e.TgZ(17,"li",10)(18,"a",13),e._UZ(19,"mat-icon",14),e.TgZ(20,"span",9),e._uU(21,"Add Product"),e.qZA()()(),e.TgZ(22,"li",10)(23,"a",15),e._UZ(24,"mat-icon",16),e.TgZ(25,"span",9),e._uU(26,"Orders"),e.qZA()()(),e.TgZ(27,"li",10)(28,"a",17),e.NdJ("click",function(){return n.logout()}),e._UZ(29,"mat-icon",18),e.TgZ(30,"span",9),e._uU(31,"Logout"),e.qZA()()()()()(),e.TgZ(32,"div",19)(33,"div",20)(34,"div",21),e.YNc(35,Ae,2,3,"div",22),e.qZA(),e.TgZ(36,"button",23),e._UZ(37,"span",24),e.TgZ(38,"span",25),e._uU(39,"Previous"),e.qZA()(),e.TgZ(40,"button",26),e._UZ(41,"span",27),e.TgZ(42,"span",25),e._uU(43,"Next"),e.qZA()()(),e.TgZ(44,"div",28),e._uU(45," Name: "),e.TgZ(46,"h1"),e._uU(47),e.qZA(),e._uU(48," Description: "),e._UZ(49,"h4",29),e.ALo(50,"dompurify"),e._uU(51," Price: "),e.TgZ(52,"h2"),e._uU(53),e.qZA()(),e.TgZ(54,"div",30)(55,"button",31),e.NdJ("click",function(){return n.update()}),e._uU(56,"Update"),e.qZA(),e.TgZ(57,"button",31),e.NdJ("click",function(){return n.updateImages()}),e._uU(58," update Images "),e.qZA(),e.TgZ(59,"button",32),e.NdJ("click",function(){return n.deleteProduct()}),e._uU(60," Delete "),e.qZA()()()),2&t&&(e.xp6(35),e.Q6J("ngForOf",null==n.product?null:n.product.images),e.xp6(12),e.Oqu(null==n.product?null:n.product.name),e.xp6(2),e.Q6J("innerHTML",e.lcZ(50,4,null==n.product?null:n.product.description),e.oJD),e.xp6(4),e.hij("Rs. ",null==n.product?null:n.product.price,""))},dependencies:[u.sg,g.yS,P.Hw,N.XJ],styles:[".carousel-control-next[_ngcontent-%COMP%], .carousel-control-prev[_ngcontent-%COMP%]{filter:invert(100%)}img[_ngcontent-%COMP%]{max-height:200px}"]}),o})()}];let De=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(Oe),g.Bz]}),o})(),Ue=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,De,P.Ps,s.u5,s.UX,y.ot,j.lN,Y.c,I.Bb,f.Is,W,h.FP,N.k$]}),o})()}}]);